<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <title>Notifieringar â€“ Bokningssystem</title>
</head>
<body>
  <h1>ðŸ”” Notifieringar</h1>
  <ul id="notifications"></ul>

  <!-- Socket.IO client -->
  <script src="/socket.io/socket.io.js"></script>
  <script>
    // Anslut till din backend â€“ byt port om du kÃ¶r nÃ¥got annat Ã¤n 5000
    // https://cdn.socket.io/4.7.2/socket.io.min.js
    const socket = io('http://localhost:5000');

    const list = document.getElementById('notifications');

    socket.on('connect', () => {
      console.log('Ansluten till server via socket:', socket.id);
    });


    socket.on('newBooking', (data) => {
      const li = document.createElement('li');
      li.textContent = `${data.message} (Rum: ${data.booking.roomId})`;
      list.appendChild(li);
    });

    socket.on('bookingUpdated', (data) => {
    const li = document.createElement('li');
    li.textContent = `âœï¸ ${data.message}`;
    list.appendChild(li);
  });

    socket.on('bookingDeleted', (data) => {
    const li = document.createElement('li');
    li.textContent = `âŒ ${data.message}`;
    list.appendChild(li);
  });
    socket.on('disconnect', () => {
      console.log('FrÃ¥nkopplad frÃ¥n socket');
    });
  </script>
</body>
</html>
